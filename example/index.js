!function(t){var n={};function e(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,e),s.l=!0,s.exports}e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var s in t)e.d(a,s,function(n){return t[n]}.bind(null,s));return a},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=3)}([function(t,n,e){},function(t,n){t.exports=Vue},function(t,n,e){"use strict";var a=e(0);e.n(a).a},function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"panel"},[e("div",{staticClass:"container"},t._l(t.data.map,function(n,a){return e("div",{key:a,staticClass:"list"},t._l(n,function(n,s){return e("span",{key:s,staticClass:"item",on:{click:function(n){return t.clickItem(a,s)},contextmenu:function(n){return t.menu(a,s,n)}}},[t._v(t._s(n.status))])}),0)}),0),t._v(" "),e("div",{staticClass:"setting"},[e("div",[e("div",{staticClass:"set-item"},[e("span",[t._v("设置行数")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.lines,expression:"lines"}],attrs:{type:"number",placeholder:"最大20行，最小5行"},domProps:{value:t.lines},on:{input:[function(n){n.target.composing||(t.lines=n.target.value)},function(n){return t.changeLines(n)}]}})]),t._v(" "),e("div",{staticClass:"set-item"},[e("span",[t._v("设置地雷数")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.bombs,expression:"bombs"}],attrs:{type:"number"},domProps:{value:t.bombs},on:{input:[function(n){n.target.composing||(t.bombs=n.target.value)},function(n){return t.changeBombs(n)}]}})]),t._v(" "),e("button",{on:{click:t.reset}},[t._v("绘制游戏地图")]),t._v(" "),e("button",{on:{click:t.reset}},[t._v("重置游戏")])])])])};function s(t,n){for(var e=[],a=[],s=function(t,n){var e=new Array(n);e.fill(0);for(var a=[],s=0;s<t;){var r=(n-0)*Math.random()+0>>0;a.indexOf(r)<0&&(a.push(r),s++)}for(var i=0;i<a.length;i++)e[a[i]]=1;return e}(n,t*t),r=0;r<t;r++){e[r]=[],a[r]=[];for(var i=0;i<t;i++)e[r].push(s[r*t+i]),a[r].push({status:"🍅"})}for(var o=[],u=0;u<t;u++){o[u]=[];for(var c=0;c<t;c++){var l=0;e[u]&&e[u][c-1]&&l++,e[u]&&e[u][c+1]&&l++,e[u-1]&&e[u-1][c-1]&&l++,e[u-1]&&e[u-1][c]&&l++,e[u-1]&&e[u-1][c+1]&&l++,e[u+1]&&e[u+1][c-1]&&l++,e[u+1]&&e[u+1][c]&&l++,e[u+1]&&e[u+1][c+1]&&l++,o[u].push({number:l,visited:!1})}}return{origin:e,counts:o,map:a}}a._withStripped=!0;var r={data:function(){return{data:s(10,10),lines:10,bombs:10}},methods:{reset:function(){this.data=s(this.lines,this.bombs)},changeLines:function(t){var n,e=t.target.value,a=Number(e);n=a!=a?0:a,this.lines=Math.max(Math.min(n,20),5).toString()},changeBombs:function(t){var n,e=t.target.value,a=Number(e);n=a!=a?0:a,this.bombs=Math.max(Math.min(n,Math.pow(this.lines,2)),1)},dealSelect:function(t,n){var e=1===this.data.origin[t][n]?"💣":this.data.counts[t][n].number||this.dealBlank(t,n);if(Array.isArray(e))for(var a=0;a<e.length;a++){var s=e[a];this.data.map[s.x][s.y].status=s.number}else this.data.map[t][n].status=e;1===this.data.origin[t][n]&&setTimeout(function(){alert("真不幸，踩雷了")})},clickItem:function(t,n){var e=this;this.$nextTick(function(){e.dealSelect(t,n)})},menu:function(t,n,e){e.preventDefault(),this.data.map[t][n].status="⛳"},dealBlank:function(t,n){var e=[];return this.data.counts[t][n].visited=!0,e.push({x:t,y:n,number:this.data.counts[t][n].number}),this.data.counts[t-1]&&this.data.counts[t-1][n]&&!this.data.counts[t-1][n].visited&&(e.push({x:t-1,y:n,number:this.data.counts[t-1][n].number}),0===this.data.counts[t-1][n].number&&(e=e.concat(this.dealBlank(t-1,n)))),this.data.counts[t+1]&&this.data.counts[t+1][n]&&!this.data.counts[t+1][n].visited&&(e.push({x:t+1,y:n,number:this.data.counts[t+1][n].number}),0===this.data.counts[t+1][n].number&&(e=e.concat(this.dealBlank(t+1,n)))),this.data.counts[t][n-1]&&!this.data.counts[t][n-1].visited&&(e.push({x:t,y:n-1,number:this.data.counts[t][n-1].number}),0===this.data.counts[t][n-1].number&&(e=e.concat(this.dealBlank(t,n-1)))),this.data.counts[t][n+1]&&!this.data.counts[t][n+1].visited&&(e.push({x:t,y:n+1,number:this.data.counts[t][n+1].number}),0===this.data.counts[t][n+1].number&&(e=e.concat(this.dealBlank(t,n+1)))),e}}};e(2);var i=function(t,n,e,a,s,r,i,o){var u,c="function"==typeof t?t.options:t;if(n&&(c.render=n,c.staticRenderFns=e,c._compiled=!0),a&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),i?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},c._ssrRegister=u):s&&(u=o?function(){s.call(this,this.$root.$options.shadowRoot)}:s),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(t,n){return u.call(n),l(t,n)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,u):[u]}return{exports:t,options:c}}(r,a,[],!1,null,null,null);i.options.__file="src/app.vue";var o=i.exports,u=e(1);new(e.n(u).a)({el:"#app",components:{App:o},render:function(t){return t(o)}})}]);